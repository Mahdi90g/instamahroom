{% extends './base.html' %}

{% block content %}
{% load comment_tags %}  {# Loading the template tag #}


<style>
  body{
    background-color: rgb(5, 61, 61);
  }
    a{
        text-decoration: none;
        
        
    }
    a:visited{
        color: wheat;
    }
    .title{
        direction: rtl;
        
    }
    .disc{
        direction: rtl;
        
    }
    .new{
        width: 90px;
        height: 40px;
        border-radius: 10px;
        padding-top: 10px;
        
        background-color: rgb(45, 45, 212);
        color: white;
        font-size: large;
        text-align: center;
        
      

    }
    .top{
        background-color: cornflowerblue;
        padding: 15px;
        text-align: center;
        margin-top: 3em;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
       
        
    }
    .log{
        width: 90px;
        height: 40px;
        border-radius: 10px;
        padding-top: 10px;
        
        background-color: rgb(45, 45, 212);
        color: white;
        font-size: large;
        text-align: center;
        position: absolute;
        right: 20em;
        top:3.5em

    }
    .reg{
        width: 90px;
        height: 40px;
        border-radius: 10px;
        padding-top: 10px;
        
        background-color: rgb(45, 45, 212);
        color: white;
        font-size: large;
        text-align: center;
        position: absolute;
        right: 26em;
        top:3.5em

    }
    .out{
        width: 90px;
        height: 40px;
        border-radius: 10px;
        padding-top: 10px;
        
        background-color: rgb(45, 45, 212);
        color: white;
        font-size: large;
        text-align: center;
        position: absolute;
        right: 26em;
        top:3.5em

    }
    .welcome{
        width: 100px;
        height: 40px;
        border-radius: 10px;
        padding-top: 10px;
        
        background-color: rgb(45, 45, 212);
        color: white;
        font-size: large;
        text-align: center;
        position: absolute;
        right: 20em;
        top:3.5em

    }
    .tweet{
        background-color: rgba(64, 183, 238, 0.774);
        padding: 15px;
        width: 50%;
        margin: 0px auto;
        text-align: center;
        border-radius: 15px;
        border: 1px solid blue;
        position: relative;
        padding-bottom: 35px;
    }
    .auth{
        position: absolute;
        top: 5px;
        right: 15px;
        font-size: larger;
        font-weight: bold;
        color: rgb(165, 14, 94);

    }
    .onvan{
        font-size: 25px;
        margin-left: 13.4em;
        background-color: burlywood;
        width: fit-content;
        padding: 12px;
        direction: rtl;
        margin-top: -16px;
        border-radius: 0 0 16px 16px;
    }
    
       
        
        
 
    .del a:link{
        color:rgb(165, 14, 94); ;
    }
    .del a:visited{
        color:rgb(165, 14, 94); ;
    }
    a:link{
        color:  wheat;
    }

  
</style>
<div class="top">
    <h1 class="title">توییت ها</h1>

<h4 class="disc">برای خودتون توییت بزنید</h4>

{% if user.is_authenticated %}
<div class="new"><a href="{% url 'new' %}">ایجاد توییت</a></div>
{% else %}
<a class="btn btn-primary" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample">
    ایجاد توییت
  </a>
  
  
  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasExampleLabel">خطا</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <div>
        تا وقتی وارد حساب کاربری خود نشده اید نمیتوانید توییتی را بزنید
      </div>
      
          
        </ul>
      </div>
    </div>
  </div>



    
{% endif %}
    

</div>






<br>



      
       
          
          <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
            <div class="offcanvas-header">
              <h5 class="offcanvas-title" id="offcanvasExampleLabel">خطا</h5>
              <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
              <div>
                تا وقتی وارد حساب کاربری خود نشده اید نمیتوانید توییتی را ویرایش یا حذف کنید
              </div>
              <div class="dropdown mt-3">
                <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                  حساب کاربری
                </button>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">ورود</a></li>
                  <li><a class="dropdown-item" href="#">ثبت نام</a></li>
                  
                </ul>
              </div>
            </div>
          </div>
       
    </div>
    
</div>



  
<div id="mesage" class="alert alert-warning alert-dismissible fade show" role="alert" style="direction: rtl; position: fixed;top: 0;right: 0;display: none;">
    <strong>امکان پذیر نیست!</strong> ابتدا باید وارد حساب خود شوید 
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
 
<!-- /.cccccccccccccccccccccccccccccccccccccccc -->
{% for post in posts %}
{% if post.conformation == 'confirm' %}
 <div class="my-post">
  <div class="my-top">
    <div class="pic">
      <div class="kal"></div>
      
    </div>
    <div class="top-text">
      <div class="name">{{post.auth.get_full_name}}</div>
      <div class="my-title">{{post.title}}</div>
    </div>
  </div>
  <div class="my-body">
    <p>{{post.body}}.</p>
  </div>
  <div class="my-ops">
    <div class="right">
      <div class="share"><i class="fa fa-share mr-1"> اشتراک گذاری</i></div>
      <div class="like"><i class="fa fa-thumbs-o-up mr-1"> لایک</i></div>
    </div>
    <div class="left"> <i class="fa fa-comments-o mr-1"> نظرات</i></div>
   
  </div>
  <div class="my-cm">
    
    
    <input type="text" placeholder="نظر خود را وارد کنید" class="type">
    <input type="button" value="ارسال" class="btn btn-primary">
  </div>
 </div>
 <hr style="color: rgb(173, 173, 218); width: 50%; margin-left: 26%;">

{% endif %}    
{% endfor %}
 <style>
    @media screen and (max-width:1800px){
      .my_post{
        background-color: red;
      }
      
    }
  .my-post{
    border: 1px rgb(182, 182, 182) solid;
    direction: rtl;
    width: 91%;
    padding: 10px;
    margin-left: 28px;
    border-radius: 9px;
    background-color: white;
    height: 13em;
  }
  .my-top{
    display: flex;
    justify-content: flex-start;
  }
  .top-text{
    direction: rtl;
    margin-right: 10px;
  }
  .my-ops{
    display: flex;
    justify-content: space-between;
  }
  .right{
    display: flex;

  }
  .type{
    width: 83%;
  
  }
  .my-cm{
    margin-top: 15px;
  }
  .my-body{
    margin-top: 20px;
    direction: rtl;
    color: rgb(48, 48, 48);
  }
  .pic{
    border-radius: 50%;
    border: 1px solid rgb(107, 107, 107);
    width: 49px;
  }
  .right div{
    margin-left: 5px;
  }
  .name{
    font-size: larger;
    font-weight: bold;
    color: rgb(0, 81, 255);
    cursor: pointer;
  }
  .my-title{
    font-size: small;
    margin-left: 70px;
    color: rgb(105, 105, 105);
  }
  .share , .like , .left{
    cursor: pointer;
  }
  .share:hover , .like:hover , .left :hover{
    color: rgb(150, 150, 150);
  }
  .kal{
    border-radius: 50%;
    border: 1px solid rgb(10, 131, 245);
    width: 36px;
    height: 36px;
    background-color: rgba(104, 147, 226, 0.822);
    margin-right: 5px;
    margin-top: 4px;
  }
 </style>
<!-- /.cccccccccccccccccccccccccccccccccccccccc -->
<script>
    let btn = document.querySelector('#delbtn');
    let mesage = document.querySelector('#mesage');
    document.addEventListener('click',(event)=>{
    if (! mesage.contains(event.target) && ! btn.contains(event.target)){mesage.style.display='none'} })
     
        

     
    
</script>


{% endblock content %}



